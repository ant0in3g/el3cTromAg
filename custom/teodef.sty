\ProvidesPackage{../lecture}

\newtheoremstyle{theoremeexo}% name
{3pt}% Space above
{3pt}% Space below
{\itshape}% Body font
{}% Indent amount
{\bfseries}% Theorem head font
{.\newline}% Punctuation after theorem head
{3pt\Needspace{3\baselineskip}}% Space after theorem head
{}% Theorem head spec (can be left empty, meaning ‘normal’ )

\newtheoremstyle{definitionexo}% name
{3pt}% Space above
{3pt}% Space below
{\upshape}% Body font
{}% Indent amount
{\bfseries}% Theorem head font
{.\newline}% Punctuation after theorem head
{30pt\Needspace{3\baselineskip}}% Space after theorem head
{}% Theorem head spec (can be left empty, meaning ‘normal’ )

\theoremstyle{theoremeexo}
\newtheorem{theoreme}{{Théorème}}
\newtheorem*{theoreme*}{Théorème}
\newtheorem{proposition}{Proposition}
\newtheorem*{proposition*}{Proposition}
\newtheorem*{propriete*}{Propriété}
\newtheorem{hypothese}{Hypothèse}
\newtheorem{princip}{Principe physique}
\newtheorem{lemme}{Lemme}
\newtheorem{corollaire}{Corollaire}

\theoremstyle{definitionexo}
\newtheorem{definition}{Définition}
\newtheorem*{remarque*}{Remarque}
\newtheorem*{remarques*}{Remarques}
\newtheorem{exemple}{Exemple}
\newtheorem{tp}{Travaux pratiques}
\newtheorem{algo}{Code}
\newtheorem{exercicecours}{Exercice}
\newtheorem*{miniexercices}{Mini-exercices}

% legèrement personnalisées
\usepackage{tcolorbox}
\tcbuselibrary{theorems, skins, breakable}
\tcbset{
  leftlined/.style 2 args={
    blanker, breakable,
    borderline west={#1}{0pt}{#2},left={#1*14/10+7pt},top=1ex, bottom=1ex
  }
}

\tcolorboxenvironment{theoreme}{leftlined={5pt}{caribbeangreen}}
\tcolorboxenvironment{theoreme*}{leftlined={5pt}{caribbeangreen}}
\tcolorboxenvironment{proposition}{leftlined={5pt}{capri}}
\tcolorboxenvironment{proposition*}{leftlined={5pt}{capri}}
\tcolorboxenvironment{corollaire}{leftlined={5pt}{amber}}
\tcolorboxenvironment{hypothese}{leftlined={5pt}{amber}}
\tcolorboxenvironment{princip}{leftlined={5pt}{ballblue}}
\tcolorboxenvironment{lemme}{leftlined={5pt}{azure(colorwheel)}}
\tcolorboxenvironment{propriete*}{leftlined={5pt}{cadmiumyellow}}

\tcolorboxenvironment{definition}{leftlined={5pt}{awesome}}
%\tcolorboxenvironment{remarque*}{leftlined={5pt}{black!21,decorate,decoration={name=snake}}}
%\tcolorboxenvironment{exemple}{leftlined={5pt}{black!21,decorate,decoration={name=zigzag}}}
\tcolorboxenvironment{tp}{leftlined={5pt}{gray}}
\tcolorboxenvironment{algo}{leftlined={5pt}{gray}}
%\tcolorboxenvironment{exercicecours}{leftlined={5pt}{black!21,decorate,decoration={name=zigzag}}}
\tcolorboxenvironment{miniexercices}{leftlined={2pt}{lightgray,decorate,decoration={name=zigzag}}}

%%%%%%%% Definition %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\renewcommand{\thedefi}{\arabic{defi}}
\newenvironment{defi}[2][]{%
\refstepcounter{defi}%
\ifstrempty{#1}%
{\mdfsetup{%
frametitle={%
\tikz[baseline=(current bounding box.east),outer sep=0pt]
\node[anchor=east,rectangle,fill=amber]
{\strut \ Definition~\thedefi \ \ };}}
}%
{\mdfsetup{%
frametitle={%
\tikz[baseline=(current bounding box.east),outer sep=0pt]
\node[anchor=east,rectangle,fill=amber]
{\strut \ Definition~\thedefi \ : \ ~#1 \ };}}%
}%
\mdfsetup{innertopmargin=1pt,linecolor=amber,%
linewidth=2pt,topline=true,%
frametitleaboveskip=\dimexpr-\ht\strutbox\relax
}
\begin{mdframed}[]\relax%
}{\end{mdframed}}

%%%%%%%% Proposition %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\renewcommand{\theprop}{\arabic{prop}}
\newenvironment{prop}[2][]{%
\refstepcounter{prop}%
\ifstrempty{#1}%
{\mdfsetup{%
frametitle={%
\tikz[baseline=(current bounding box.east),outer sep=0pt]
\node[anchor=east,rectangle,fill=robineggblue]
{\strut \ Proposition~\theprop \ \ };}}
}%
{\mdfsetup{%
frametitle={%
\tikz[baseline=(current bounding box.east),outer sep=0pt]
\node[anchor=east,rectangle,fill=robineggblue]
{\strut \ Proposition~\theprop \ : \ ~#1 \ };}}%
}%
\mdfsetup{innertopmargin=1pt,linecolor=robineggblue,%
linewidth=2pt,topline=true,%
frametitleaboveskip=\dimexpr-\ht\strutbox\relax
}
\begin{mdframed}[]\relax%
}{\end{mdframed}}

%%%%%%%% Theorem %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\renewcommand{\thetheo}{\arabic{theo}}
\newenvironment{theo}[2][]{%
\refstepcounter{theo}%
\ifstrempty{#1}%
{\mdfsetup{%
frametitle={%
\tikz[baseline=(current bounding box.east),outer sep=0pt]
\node[anchor=east,rectangle,fill=brilliantrose]
{\strut \ Théorème~\thetheo \ \ };}}
}%
{\mdfsetup{%
frametitle={%
\tikz[baseline=(current bounding box.east),outer sep=0pt]
\node[anchor=east,rectangle,fill=brilliantrose]
{\strut \ Théorème ~\thetheo \ : \ ~#1 \ };}}%
}%
\mdfsetup{innertopmargin=1pt,linecolor=brilliantrose,%
linewidth=2pt,topline=true,%
frametitleaboveskip=\dimexpr-\ht\strutbox\relax
}
\begin{mdframed}[]\relax%
}{\end{mdframed}}

%%%%%%%% Lemme %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\renewcommand{\thelem}{\arabic{lem}}
\newenvironment{lem}[2][]{%
\refstepcounter{lem}%
\ifstrempty{#1}%
{\mdfsetup{%
frametitle={%
\tikz[baseline=(current bounding box.east),outer sep=0pt]
\node[anchor=east,rectangle,fill=atomictangerine]
{\strut \ Lemme~\thelem \ \ };}}
}%
{\mdfsetup{%
frametitle={%
\tikz[baseline=(current bounding box.east),outer sep=0pt]
\node[anchor=east,rectangle,fill=atomictangerine]
{\strut \ Lemme~\thelem \ : \ ~#1 \ };}}%
}%
\mdfsetup{innertopmargin=1pt,linecolor=atomictangerine,%
linewidth=2pt,topline=true,%
frametitleaboveskip=\dimexpr-\ht\strutbox\relax
}
\begin{mdframed}[]\relax%
}{\end{mdframed}}

%%%%%%%% Remarque %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\renewcommand{\thermq}{\arabic{rmq}}
\newenvironment{rmq}[2][]{%
\refstepcounter{rmq}%
\ifstrempty{#1}%
{\mdfsetup{%
frametitle={%
\tikz[baseline=(current bounding box.east),outer sep=0pt]
\node[anchor=east,rectangle,fill=anti-flashwhite]
{\strut \ Remarque~\thermq \ \ };}}
}%
{\mdfsetup{%
frametitle={%
\tikz[baseline=(current bounding box.east),outer sep=0pt]
\node[anchor=east,rectangle,fill=anti-flashwhite]
{\strut \ Remarque~\thermq \ : \ ~#1 \ };}}%
}%
\mdfsetup{innertopmargin=1pt,linecolor=anti-flashwhite,%
linewidth=2pt,topline=true,%
frametitleaboveskip=\dimexpr-\ht\strutbox\relax
}
\begin{mdframed}[]\relax%
}{\end{mdframed}}

%%%%%%%% Exemple %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\renewcommand{\theex}{\arabic{ex}}
\newenvironment{ex}[2][]{%
\refstepcounter{ex}%
\ifstrempty{#1}%
{\mdfsetup{%
frametitle={%
\tikz[baseline=(current bounding box.east),outer sep=0pt]
\node[anchor=east,rectangle,fill=pistachio]
{\strut \ Exemple~\theex \ \ };}}
}%
{\mdfsetup{%
frametitle={%
\tikz[baseline=(current bounding box.east),outer sep=0pt]
\node[anchor=east,rectangle,pistachio]
{\strut \ Exemple~\theex \ : \ ~#1 \ };}}%
}%
\mdfsetup{innertopmargin=1pt,linecolor=pistachio,%
linewidth=2pt,topline=true,%
frametitleaboveskip=\dimexpr-\ht\strutbox\relax
}
\begin{mdframed}[]\relax%
}{\end{mdframed}}

%%%%%%%% Preuve %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\renewcommand{\thedemo}{\arabic{demo}}
\newenvironment{demo}[2][]{%
\refstepcounter{demo}%
\ifstrempty{#1}%
{\mdfsetup{%
frametitle={%
\tikz[baseline=(current bounding box.east),outer sep=0pt]
\node[anchor=east,rectangle,fill=robineggblue]
{\strut \ Preuve~\thedemo \ \ };}}
}%
{\mdfsetup{%
frametitle={%
\tikz[baseline=(current bounding box.east),outer sep=0pt]
\node[anchor=east,rectangle,fill=robineggblue]
{\strut \ Preuve~\thedemo \ : \ ~#1 \ };}}%
}%
\mdfsetup{innertopmargin=1pt,linecolor=robineggblue,%
linewidth=2pt,topline=true,%
frametitleaboveskip=\dimexpr-\ht\strutbox\relax
}
\begin{mdframed}[]\relax%
}{\qed\end{mdframed}}

%%%%%%%% Propriete %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\renewcommand{\thepropri}{\arabic{propri}}
\newenvironment{propri}[2][]{%
\refstepcounter{propri}%
\ifstrempty{#1}%
{\mdfsetup{%
frametitle={%
\tikz[baseline=(current bounding box.east),outer sep=0pt]
\node[anchor=east,rectangle,fill=azure(colorwheel)]
{\strut \ Propriété~\thepropri \ \ };}}
}%
{\mdfsetup{%
frametitle={%
\tikz[baseline=(current bounding box.east),outer sep=0pt]
\node[anchor=east,rectangle,fill=azure(colorwheel)]
{\strut \ Propriété~\thepropri \ : \ ~#1 \ };}}%
}%
\mdfsetup{innertopmargin=1pt,linecolor=azure(colorwheel),%
linewidth=2pt,topline=true,%
frametitleaboveskip=\dimexpr-\ht\strutbox\relax
}
\begin{mdframed}[]\relax%
}{\end{mdframed}}

%%%%%%%% Hypothese %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\renewcommand{\thehpt}{\arabic{hpt}}
\newenvironment{hpt}[2][]{%
\refstepcounter{hpt}%
\ifstrempty{#1}%
{\mdfsetup{%
frametitle={%
\tikz[baseline=(current bounding box.east),outer sep=0pt]
\node[anchor=east,rectangle,fill=anti-flashwhite]
{\strut \ Remarque~\thehpt \ \ };}}
}%
{\mdfsetup{%
frametitle={%
\tikz[baseline=(current bounding box.east),outer sep=0pt]
\node[anchor=east,rectangle,fill=anti-flashwhite]
{\strut \ Hypothèse~\thehpt \ : \ ~#1 \ };}}%
}%
\mdfsetup{innertopmargin=1pt,linecolor=anti-flashwhite,%
linewidth=2pt,topline=true,%
frametitleaboveskip=\dimexpr-\ht\strutbox\relax
}
\begin{mdframed}[]\relax%
}{\end{mdframed}}

%%%%%%%% Principe Physique %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\renewcommand{\theprp}{\arabic{hpt}}
\newenvironment{prp}[2][]{%
\refstepcounter{prp}%
\ifstrempty{#1}%
{\mdfsetup{%
frametitle={%
\tikz[baseline=(current bounding box.east),outer sep=0pt]
\node[anchor=east,rectangle,fill=anti-flashwhite]
{\strut \ Remarque~\theprp \ \ };}}
}%
{\mdfsetup{%
frametitle={%
\tikz[baseline=(current bounding box.east),outer sep=0pt]
\node[anchor=east,rectangle,fill=anti-flashwhite]
{\strut \ Principe physique~\theprp \ : \ ~#1 \ };}}%
}%
\mdfsetup{innertopmargin=1pt,linecolor=anti-flashwhite,%
linewidth=2pt,topline=true,%
frametitleaboveskip=\dimexpr-\ht\strutbox\relax
}
\begin{mdframed}[]\relax%
}{\end{mdframed}}
